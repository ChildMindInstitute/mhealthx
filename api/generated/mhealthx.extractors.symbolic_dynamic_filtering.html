<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>mhealthx &mdash; mhealthx</title>
    
    <link rel="stylesheet" href="../../shared/mhealthx.css" type="text/css" />
    <link rel="stylesheet" href="../../shared/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '%s.%s.%s%s',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../shared/jquery.js"></script>
    <script type="text/javascript" src="../../shared/underscore.js"></script>
    <script type="text/javascript" src="../../shared/doctools.js"></script>
    <link rel="top" title="mhealthx" href="../../index.html" />
  <HTML><head><title>mhealthx</title>
  <meta http-equiv="Content-language" content="en">
  <meta name="description" content="mhealthx">
  <meta name="keywords" content="mhealthx, mobile health, feature extraction">
  <meta name="author" content="mailto:arno&#64;sagebase.org">
  <meta name="dc.title" content="mhealthx"> 
  <meta name="dc.creator.address" content="arno&#64;sagebase.org">
  <meta name="dc.subject" content="mhealthx">
  <meta name="dc.type" content="text.homepage.research"> 
  <meta name="dc.format" content="text/html"> 
  <meta name="dc.identifier" content="http://binarybottle.github.io/mhealthx">

  </head>
  <body role="document">
<div style="background-color: white; text-align: left; padding: 10px 10px 15px 15px">
 <table>
  <tr>
   <td>

 <a href="../../index.html">
  <img src="http://binarybottle.com/mpower/images/Sage_neon_logogram_icon.png" alt="small logo"  border="0" width="160"/-->
 </a>

   </td>
  <tr>
   <td>
   
   </td>
   <td>
 <a style="padding: 0px 0px 0px 20px; color: #00AA00; text-decoration: none; font-size: 32px"
  href="../../index.html">mhealthx</a>
   </td>
  </tr>
 </table>
</div>
  

    <div class="document">
      <div class="documentwrapper">
          <div class="body" role="main">
            
  <div class="section" id="extractors-symbolic-dynamic-filtering">
<h1>extractors.symbolic_dynamic_filtering<a class="headerlink" href="#extractors-symbolic-dynamic-filtering" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-mhealthx.extractors.symbolic_dynamic_filtering">
<span id="module-extractors-symbolic-dynamic-filtering"></span><h2>Module: <code class="xref py py-mod docutils literal"><span class="pre">extractors.symbolic_dynamic_filtering</span></code><a class="headerlink" href="#module-mhealthx.extractors.symbolic_dynamic_filtering" title="Permalink to this headline">¶</a></h2>
<p>This program implements the symbolic dynamic filtering (SDF) algorithm
as a time series feature extraction method, presented in the following paper:</p>
<p>Bahrampour, Soheil, Asok Ray, Soumalya Sarkar,
Thyagaraju Damarla, and Nasser M. Nasrabadi.
&#8220;Performance comparison of feature extraction algorithms for target detection
and classification.&#8221; Pattern Recognition Letters 34, no. 16 (2013): 2126-2134.</p>
<p>Written by Soheil Bahrampour, August 2012
Rewritten in Python by Arno Klein, November 2015</p>
<dl class="docutils">
<dt>Authors:</dt>
<dd><ul class="first last simple">
<li>Soheil Bahrampour, August 2012</li>
<li>Arno Klein, 2015  (<a class="reference external" href="mailto:arno&#37;&#52;&#48;sagebase&#46;org">arno<span>&#64;</span>sagebase<span>&#46;</span>org</a>)  <a class="reference external" href="http://binarybottle.com">http://binarybottle.com</a></li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="functions">
<h2>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="mhealthx.extractors.symbolic_dynamic_filtering.analyze_symbol_sequence">
<code class="descclassname">mhealthx.extractors.symbolic_dynamic_filtering.</code><code class="descname">analyze_symbol_sequence</code><span class="sig-paren">(</span><em>symbols</em>, <em>number_of_states</em>, <em>morph_matrix_flag</em><span class="sig-paren">)</span><a class="headerlink" href="#mhealthx.extractors.symbolic_dynamic_filtering.analyze_symbol_sequence" title="Permalink to this definition">¶</a></dt>
<dd><p>Estimate the state transition probability (&#8220;morph&#8221;) matrix of the
probabilistic finite state automata, and its eigenvector
corresponding to eigenvalue 1 by counting.</p>
<p>NOTE: Currently the number of states is set to the number of symbols.</p>
<p>symbol_sequence : numpy array
number_of_states : integer
morph_matrix_flag : Boolean</p>
<p>morph_matrix : numpy array
pvec : numpy array</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="c"># Example checked against original Matlab code:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mhealthx.extractors.symbolic_dynamic_filtering</span> <span class="kn">import</span> <span class="n">analyze_symbol_sequence</span><span class="p">,</span> <span class="n">generate_symbol_sequence</span><span class="p">,</span> <span class="n">max_entropy_partition</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.82487374</span><span class="p">,</span>  <span class="mf">0.21834812</span><span class="p">,</span>  <span class="mf">0.60166418</span><span class="p">,</span>  <span class="mf">0.76465689</span><span class="p">,</span> <span class="mf">0.44819955</span><span class="p">,</span>  <span class="mf">0.72335342</span><span class="p">,</span>  <span class="mf">0.8710113</span><span class="p">,</span>  <span class="mf">0.73258881</span><span class="p">,</span> <span class="mf">0.97047932</span><span class="p">,</span>  <span class="mf">0.5975058</span><span class="p">,</span>  <span class="mf">0.02474567</span><span class="p">,</span>  <span class="mf">0.38093561</span><span class="p">])</span> <span class="c">#np.random.random((3,4))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">number_of_symbols</span> <span class="o">=</span> <span class="mi">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">partition</span> <span class="o">=</span> <span class="n">max_entropy_partition</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">number_of_symbols</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">symbols</span> <span class="o">=</span> <span class="n">generate_symbol_sequence</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">partition</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">number_of_states</span> <span class="o">=</span> <span class="n">number_of_symbols</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">morph_matrix_flag</span> <span class="o">=</span> <span class="bp">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">morph_matrix</span><span class="p">,</span> <span class="n">pvec</span> <span class="o">=</span> <span class="n">analyze_symbol_sequence</span><span class="p">(</span><span class="n">symbols</span><span class="p">,</span> <span class="n">number_of_states</span><span class="p">,</span> <span class="n">morph_matrix_flag</span><span class="p">)</span>
<span class="go">array([[ 0.        ,  0.5       ,  0.        ,  0.5       ],</span>
<span class="go">       [ 0.33333333,  0.        ,  0.        ,  0.66666667],</span>
<span class="go">       [ 0.33333333,  0.33333333,  0.        ,  0.33333333],</span>
<span class="go">       [ 0.        ,  0.        ,  1.        ,  0.        ]])</span>
<span class="go">array([ 0.18181818,  0.18181818,  0.27272727,  0.36363636])</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="mhealthx.extractors.symbolic_dynamic_filtering.generate_symbol_sequence">
<code class="descclassname">mhealthx.extractors.symbolic_dynamic_filtering.</code><code class="descname">generate_symbol_sequence</code><span class="sig-paren">(</span><em>data</em>, <em>partition</em><span class="sig-paren">)</span><a class="headerlink" href="#mhealthx.extractors.symbolic_dynamic_filtering.generate_symbol_sequence" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate symbol sequence of a given time series using given partition.</p>
<p>data : numpy array
partition : numpy array</p>
<p>symbols : numpy array</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="c"># Example checked against original Matlab code:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mhealthx.extractors.symbolic_dynamic_filtering</span> <span class="kn">import</span> <span class="n">generate_symbol_sequence</span><span class="p">,</span> <span class="n">max_entropy_partition</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.82487374</span><span class="p">,</span>  <span class="mf">0.21834812</span><span class="p">,</span>  <span class="mf">0.60166418</span><span class="p">,</span>  <span class="mf">0.76465689</span><span class="p">,</span> <span class="mf">0.44819955</span><span class="p">,</span>  <span class="mf">0.72335342</span><span class="p">,</span>  <span class="mf">0.8710113</span><span class="p">,</span>  <span class="mf">0.73258881</span><span class="p">,</span> <span class="mf">0.97047932</span><span class="p">,</span>  <span class="mf">0.5975058</span><span class="p">,</span>  <span class="mf">0.02474567</span><span class="p">,</span>  <span class="mf">0.38093561</span><span class="p">])</span> <span class="c">#np.random.random((3,4))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">number_of_symbols</span> <span class="o">=</span> <span class="mi">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">partition</span> <span class="o">=</span> <span class="n">max_entropy_partition</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">number_of_symbols</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">symbols</span> <span class="o">=</span> <span class="n">generate_symbol_sequence</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">partition</span><span class="p">)</span>
<span class="go">array([ 4.,  1.,  3.,  4.,  2.,  3.,  4.,  3.,  4.,  2.,  1.,  2.])</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="mhealthx.extractors.symbolic_dynamic_filtering.max_entropy_partition">
<code class="descclassname">mhealthx.extractors.symbolic_dynamic_filtering.</code><code class="descname">max_entropy_partition</code><span class="sig-paren">(</span><em>data</em>, <em>number_of_symbols</em><span class="sig-paren">)</span><a class="headerlink" href="#mhealthx.extractors.symbolic_dynamic_filtering.max_entropy_partition" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform maximum entropy partitioning on given data.</p>
<p>data : numpy array
number_of_symbols : integer</p>
<blockquote>
<div>number of symbols for symbolic dynamic filtering method</div></blockquote>
<p>partition : numpy array</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="c"># Example checked against original Matlab code:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mhealthx.extractors.symbolic_dynamic_filtering</span> <span class="kn">import</span> <span class="n">max_entropy_partition</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.82487374</span><span class="p">,</span>  <span class="mf">0.21834812</span><span class="p">,</span>  <span class="mf">0.60166418</span><span class="p">,</span>  <span class="mf">0.76465689</span><span class="p">,</span> <span class="mf">0.44819955</span><span class="p">,</span>  <span class="mf">0.72335342</span><span class="p">,</span>  <span class="mf">0.8710113</span><span class="p">,</span>  <span class="mf">0.73258881</span><span class="p">,</span> <span class="mf">0.97047932</span><span class="p">,</span>  <span class="mf">0.5975058</span><span class="p">,</span>  <span class="mf">0.02474567</span><span class="p">,</span>  <span class="mf">0.38093561</span><span class="p">])</span> <span class="c">#np.random.random((3,4))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">number_of_symbols</span> <span class="o">=</span> <span class="mi">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">partition</span> <span class="o">=</span> <span class="n">max_entropy_partition</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">number_of_symbols</span><span class="p">)</span>
<span class="go">array([ 0.38093561,  0.60166418,  0.76465689])</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="mhealthx.extractors.symbolic_dynamic_filtering.sdf_features">
<code class="descclassname">mhealthx.extractors.symbolic_dynamic_filtering.</code><code class="descname">sdf_features</code><span class="sig-paren">(</span><em>data</em>, <em>number_of_symbols</em>, <em>pi_matrix_flag=False</em><span class="sig-paren">)</span><a class="headerlink" href="#mhealthx.extractors.symbolic_dynamic_filtering.sdf_features" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract symbolic dynamic filtering features from time series data.</p>
<p>NOTE: Currently the number of states is set to the number of symbols.</p>
<p>data : numpy array
number_of_symbols : integer</p>
<blockquote>
<div>number of symbols for symbolic dynamic filtering method</div></blockquote>
<dl class="docutils">
<dt>pi_matrix_flag <span class="classifier-delimiter">:</span> <span class="classifier">Boolean</span></dt>
<dd>feature as vectorized morph matrix (default: False)?</dd>
</dl>
<p>feature : numpy array</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="c"># Example checked against original Matlab code:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mhealthx.extractors.symbolic_dynamic_filtering</span> <span class="kn">import</span> <span class="n">sdf_features</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.82487374</span><span class="p">,</span>  <span class="mf">0.21834812</span><span class="p">,</span>  <span class="mf">0.60166418</span><span class="p">,</span>  <span class="mf">0.76465689</span><span class="p">,</span> <span class="mf">0.44819955</span><span class="p">,</span>  <span class="mf">0.72335342</span><span class="p">,</span>  <span class="mf">0.8710113</span><span class="p">,</span>  <span class="mf">0.73258881</span><span class="p">,</span> <span class="mf">0.97047932</span><span class="p">,</span>  <span class="mf">0.5975058</span><span class="p">,</span>  <span class="mf">0.02474567</span><span class="p">,</span>  <span class="mf">0.38093561</span><span class="p">])</span> <span class="c">#np.random.random((3,4))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">number_of_symbols</span> <span class="o">=</span> <span class="mi">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pi_matrix_flag</span> <span class="o">=</span> <span class="bp">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">feature</span> <span class="o">=</span> <span class="n">sdf_features</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">number_of_symbols</span><span class="p">,</span> <span class="n">pi_matrix_flag</span><span class="p">)</span>
<span class="go">array([ 0.18181818,  0.18181818,  0.27272727,  0.36363636])</span>
</pre></div>
</div>
</dd></dl>

</div>
</div>


          </div>
      </div>
      <div class="clearer"></div>
    </div>
<!-- Google Analytics -->
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-693862-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

  </body>
</html>
